******************************************************
2019-11-11 11:48:13,445 - INFO - logger - Path for logging: data/outputs/20191111104758\micro_grid_design_logfile.log
2019-11-11 11:48:13,446 - INFO - logger - Used oemof version: 0.2.2
2019-11-11 11:48:13,447 - INFO - A_offgridders_wrapper - 
 
 MICRO GRID TOOL 3.0
 Version: 19.06.2019 
 Coded by: Martha M. Hoffmann 
 Reiner Lemoine Institute (Berlin) 
 
 
2019-11-11 11:48:13,453 - INFO - C_sensitivity_experiments - Parameters of sensitivity analysis
2019-11-11 11:48:13,453 - INFO - C_sensitivity_experiments - Randomized blackout timeseries for all combinations of blackout duration and frequency (1 experiments) will be generated.
2019-11-11 11:48:13,748 - DEBUG - C_sensitivity_experiments - Generating header for results.csv
2019-11-11 11:48:13,833 - INFO - C_sensitivity_experiments - For 1 project sites with 1 scenarios each, 1 sensitivity_experiment_s will be performed for each case.
2019-11-11 11:48:13,848 - INFO - E_blackouts_central_grid - Blackout experiment 1: Blackout duration 2.5 hrs, blackout frequency 4 per month
2019-11-11 11:48:13,863 - INFO - E_blackouts_central_grid - Number of blackouts in simulated timeframe: 48
2019-11-11 11:48:13,883 - DEBUG - E_blackouts_central_grid - Blackouts events occur on following dates: 2019-01-02 16:00:00, 2019-01-13 22:00:00, 2019-01-15 17:00:00, 2019-01-21 02:00:00, 2019-02-04 12:00:00, 2019-02-21 23:00:00, 2019-02-22 17:00:00, 2019-02-24 19:00:00, 2019-02-25 05:00:00, 2019-02-25 17:00:00, 2019-02-27 15:00:00, 2019-03-09 23:00:00, 2019-03-20 08:00:00, 2019-03-29 00:00:00, 2019-04-01 08:00:00, 2019-04-02 17:00:00, 2019-04-04 20:00:00, 2019-04-25 15:00:00, 2019-04-26 00:00:00, 2019-04-29 21:00:00, 2019-05-09 21:00:00, 2019-05-12 14:00:00, 2019-05-22 01:00:00, 2019-05-28 00:00:00, 2019-05-31 19:00:00, 2019-06-13 13:00:00, 2019-06-30 20:00:00, 2019-07-06 23:00:00, 2019-07-07 19:00:00, 2019-07-23 16:00:00, 2019-07-25 05:00:00, 2019-07-28 07:00:00, 2019-07-31 17:00:00, 2019-08-02 09:00:00, 2019-08-02 16:00:00, 2019-08-27 09:00:00, 2019-08-31 06:00:00, 2019-09-04 00:00:00, 2019-09-07 23:00:00, 2019-09-22 22:00:00, 2019-09-27 10:00:00, 2019-10-03 09:00:00, 2019-10-12 19:00:00, 2019-11-17 22:00:00, 2019-11-28 22:00:00, 2019-12-04 21:00:00, 2019-12-10 17:00:00, 2019-12-11 18:00:00
2019-11-11 11:48:13,888 - INFO - E_blackouts_central_grid - Accumulated blackout duration: 120.0
2019-11-11 11:48:13,888 - INFO - E_blackouts_central_grid - Accumulated blackout duration (rounded to timestep): 96.0
2019-11-11 11:48:16,418 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:16] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:19,503 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:19] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:20,473 - INFO - E_blackouts_central_grid - Grid is not operational for 96 hours, with a reliability of 98.9 percent. 

2019-11-11 11:48:20,483 - INFO - E_blackouts_central_grid - Missing blackout timeseries added through auto-generation.
2019-11-11 11:48:20,553 - DEBUG - core - Creating PluginEnvironment 'pca'
2019-11-11 11:48:20,563 - DEBUG - core - Pushing environment 'pca' on the PluginGlobals stack
2019-11-11 11:48:21,193 - DEBUG - core - Pushing environment 'pca' on the PluginGlobals stack
2019-11-11 11:48:21,211 - DEBUG - core - Popping environment 'pca' from the PluginGlobals stack
2019-11-11 11:48:21,214 - DEBUG - core - Pushing environment 'pca' on the PluginGlobals stack
2019-11-11 11:48:22,553 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:22] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:25,624 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:25] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:27,635 - DEBUG - A_offgridders_wrapper - Using grid availability timeseries that was randomly generated.
2019-11-11 11:48:27,635 - INFO - A_offgridders_wrapper - Starting simulation, project site test_site.
2019-11-11 11:48:27,645 - DEBUG - G1_oemof_create_model - Complete case dictionary:
2019-11-11 11:48:27,645 - DEBUG - G1_oemof_create_model - {'case_name': 'Helgoland', 'filename': 'Helgoland', 'total_demand_ac': 2362500.0, 'total_demand_dc': 0.0, 'peak_demand': 382.4515354034068, 'evaluated_days': 365, 'genset_with_minimal_loading': False, 'storage_fixed_capacity': None, 'storage_fixed_power': None, 'genset_fixed_capacity': False, 'pv_fixed_capacity': False, 'pcc_consumption_fixed_capacity': None, 'pcc_feedin_fixed_capacity': None, 'wind_fixed_capacity': False, 'rectifier_ac_dc_fixed_capacity': False, 'inverter_dc_ac_fixed_capacity': False, 'allow_shortage': True, 'max_shortage': 0, 'stability_constraint': 'share_hybrid', 'renewable_share_constraint': False, 'number_of_equal_generators': 1, 'evaluation_perspective': 'AC_system', 'force_charge_from_maingrid': False, 'discharge_only_when_blackout': False, 'enable_inverter_only_at_backout': False}
2019-11-11 11:48:27,647 - DEBUG - G1_oemof_create_model - Create oemof model by adding case-specific busses and components.
2019-11-11 11:48:27,647 - DEBUG - G1_oemof_create_model - Added to oemof model: Electricity bus of energy system, AC
2019-11-11 11:48:27,647 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: demand AC
2019-11-11 11:48:27,655 - DEBUG - G1_oemof_create_model - Added to oemof model: Fuel bus
2019-11-11 11:48:27,655 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: source fuel
2019-11-11 11:48:27,657 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: genset oem no minload
2019-11-11 11:48:27,657 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: wind
2019-11-11 11:48:27,663 - DEBUG - G1_oemof_create_model - Added to oemof model: Electricity bus of energy system, DC
2019-11-11 11:48:27,663 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: demand DC
2019-11-11 11:48:27,665 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: pv oem
2019-11-11 11:48:27,665 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: rectifier oem
2019-11-11 11:48:27,665 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: inverter_dc_ac oem
2019-11-11 11:48:27,667 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: excess
2019-11-11 11:48:27,667 - DEBUG - G2a_oemof_busses_and_componets - Added to oemof model: source shortage
2019-11-11 11:48:27,667 - DEBUG - G1_oemof_create_model - Create oemof model based on created components and busses.
2019-11-11 11:48:29,025 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:29] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:32,924 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:32] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:36,513 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:36] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:40,184 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:40] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:43,813 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:43] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:47,013 - INFO - G1_oemof_create_model - Added constraint: Stability though actual generation of diesel generators and backup through batteries.
2019-11-11 11:48:47,453 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:47] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:50,654 - INFO - G1_oemof_create_model - Simulating...
2019-11-11 11:48:50,661 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:50] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:53,873 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:53] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:48:57,016 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:48:57] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:00,203 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:00] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:03,234 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:03] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:06,278 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:06] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:09,356 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:09] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:12,494 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:12] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:15,664 - INFO - models - Optimization successful...
2019-11-11 11:49:15,694 - DEBUG - G1_oemof_create_model - Problem solved
2019-11-11 11:49:16,094 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:16] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:19,633 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:19] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:21,478 - DEBUG - energy_system - Attributes dumped to: data/outputs/20191111104758/oemof\Helgoland.oemof
2019-11-11 11:49:21,478 - DEBUG - G1_oemof_create_model - Stored results in data/outputs/20191111104758/oemof/Helgoland.oemof
2019-11-11 11:49:21,478 - DEBUG - G1_oemof_create_model - Restore the energy system and the results.
2019-11-11 11:49:21,478 - INFO - energy_system - Restoring attributes will overwrite existing attributes.
2019-11-11 11:49:21,513 - DEBUG - energy_system - Attributes restored from: data/outputs/20191111104758/oemof\Helgoland.oemof
2019-11-11 11:49:21,516 - DEBUG - G3_oemof_evaluate - Evaluate flow: demand
2019-11-11 11:49:21,548 - DEBUG - G3_oemof_evaluate - Evaluate flow: shortage
2019-11-11 11:49:21,583 - DEBUG - G3_oemof_evaluate - Evaluate excess: 
2019-11-11 11:49:21,616 - DEBUG - G3_oemof_evaluate - Evaluate flow: fuel
2019-11-11 11:49:21,618 - DEBUG - G3_oemof_evaluate - Evaluate flow: genset
2019-11-11 11:49:21,623 - DEBUG - G3_oemof_evaluate - Evaluate flow: main grid
2019-11-11 11:49:21,648 - DEBUG - G3_oemof_evaluate - Evaluate flow: wind
2019-11-11 11:49:21,656 - DEBUG - G3_oemof_evaluate - Evaluate flow: pv
2019-11-11 11:49:21,664 - DEBUG - G3_oemof_evaluate - Evaluate flow: storage
2019-11-11 11:49:21,688 - DEBUG - G3_oemof_evaluate - Evaluate flow: rectifier
2019-11-11 11:49:21,696 - DEBUG - G3_oemof_evaluate - Evaluate flow: rectifier
2019-11-11 11:49:21,703 - DEBUG - G3_oemof_evaluate - Evaluate: res share
2019-11-11 11:49:21,703 - DEBUG - G3b_plausability_tests - Plausibility test: Charge/Discharge
2019-11-11 11:49:21,703 - DEBUG - G3b_plausability_tests - Plausibility test: Demand/Supply/Shortage
2019-11-11 11:49:22,221 - DEBUG - G3b_plausability_tests - Plausibility test: Feedin/Consumption
2019-11-11 11:49:22,221 - DEBUG - G3b_plausability_tests - Plausibility test: Grid availability consumption
2019-11-11 11:49:22,221 - DEBUG - G3b_plausability_tests - Plausibility test: Grid availability/Feedin
2019-11-11 11:49:22,221 - DEBUG - G3b_plausability_tests - Plausibility test: Excess/shortage
2019-11-11 11:49:22,221 - DEBUG - G3b_plausability_tests - Plausibility test: Excess/Feedin
2019-11-11 11:49:23,238 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:23] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:25,088 - WARNING - G2b_constraints_custom - Stability criterion is strictly not fullfilled, but deviation is less then e6.
2019-11-11 11:49:25,088 - DEBUG - G4_output_functions - Saving flows MG.
2019-11-11 11:49:26,153 - DEBUG - _base - update_title_pos
2019-11-11 11:49:26,355 - DEBUG - font_manager - findfont: Matching :family=sans-serif:style=normal:variant=normal:weight=normal:stretch=normal:size=12.0 to DejaVu Sans ('C:\\Users\\marie\\Anaconda3\\envs\\logic\\lib\\site-packages\\matplotlib\\mpl-data\\fonts\\ttf\\DejaVuSans.ttf') with score of 0.050000.
2019-11-11 11:49:26,433 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:26] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:26,466 - DEBUG - _base - update_title_pos
2019-11-11 11:49:26,633 - DEBUG - _base - update_title_pos
2019-11-11 11:49:26,698 - DEBUG - _base - update_title_pos
2019-11-11 11:49:27,424 - DEBUG - _base - update_title_pos
2019-11-11 11:49:27,525 - DEBUG - _base - update_title_pos
2019-11-11 11:49:27,585 - DEBUG - _base - update_title_pos
2019-11-11 11:49:27,626 - DEBUG - _base - update_title_pos
2019-11-11 11:49:27,848 - DEBUG - G4_output_functions - Saving flows storage.
2019-11-11 11:49:27,848 - DEBUG - G3a_economic_evaluation - Economic evaluation. Calculating investment costs over analysed timeframe.
2019-11-11 11:49:27,848 - DEBUG - G3a_economic_evaluation - Economic evaluation. Calculating O&M costs over analysed timeframe.
2019-11-11 11:49:27,848 - DEBUG - G3a_economic_evaluation - Economic evaluation. Scaling investment costs and O&M to year.
2019-11-11 11:49:27,848 - DEBUG - G3a_economic_evaluation - Economic evaluation. Calculating present costs.
2019-11-11 11:49:27,848 - DEBUG - G3a_economic_evaluation - Economic evaluation. Calculating fuel consumption and expenditures.
2019-11-11 11:49:27,848 - DEBUG - G3a_economic_evaluation - Economic evaluation. Calculating shortage and expenditures.
2019-11-11 11:49:27,848 - INFO - G0_oemof_simulate - Simulation of case "Helgoland" resulted in : 
                  0.339 currency/kWh, at a renewable share of 76.41 percent with a reliability of 100.0 percent
2019-11-11 11:49:27,848 - INFO - G0_oemof_simulate -     Initial simulation time (s): 8.58 / Actual evaluation time (s): 60.2
2019-11-11 11:49:27,848 - DEBUG - G0_oemof_simulate -     Exact OEM results of case "Helgoland" : 
                  0 kWh battery, 571.555 kWp PV, 846.446 kW wind, 364.89 kW genset at a renewable share of 76.41 percent with a reliability of 100.0 percent
2019-11-11 11:49:27,848 - DEBUG - G0_oemof_simulate -     Simulation of case Helgoland complete.
2019-11-11 11:49:27,848 - DEBUG - G0_oemof_simulate - 

2019-11-11 11:49:28,123 - INFO - A_offgridders_wrapper -     Estimated simulation time left: 0.0 minutes.
2019-11-11 11:49:28,129 - INFO - A_offgridders_wrapper - 
 Simulation complete. Resulting parameters saved in "results.csv". 
 Overview over results:
2019-11-11 11:49:29,673 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:29] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:32,799 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:32] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:35,879 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:35] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:39,123 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:39] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:42,193 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:42] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 404 -
2019-11-11 11:49:45,248 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:45] "GET /offgrid_simulator/get_result/20191111104758 HTTP/1.1" 200 -
2019-11-11 11:49:47,363 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:47] "GET /offgrid_simulator/daily_time_series/20191111104758/mid_summer HTTP/1.1" 500 -
2019-11-11 11:49:47,385 - ERROR - _internal - Error on request:
Traceback (most recent call last):
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\werkzeug\serving.py", line 303, in run_wsgi
    execute(self.server.app)
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\werkzeug\serving.py", line 291, in execute
    application_iter = app(environ, start_response)
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\app.py", line 2463, in __call__
    return self.wsgi_app(environ, start_response)
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\app.py", line 2449, in wsgi_app
    response = self.handle_exception(e)
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask_cors\extension.py", line 161, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\app.py", line 1866, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\app.py", line 2446, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\app.py", line 1951, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask_cors\extension.py", line 161, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\app.py", line 1820, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\app.py", line 1949, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\flask\app.py", line 1935, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "C:\repositories\LOGiC\logic\offgrid_simulator\controllers.py", line 107, in get_daily_time_series
    relevant_data = time_series[settings.RELEVANT_COLUMNS].copy()
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\pandas\core\frame.py", line 2682, in __getitem__
    return self._getitem_array(key)
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\pandas\core\frame.py", line 2726, in _getitem_array
    indexer = self.loc._convert_to_indexer(key, axis=1)
  File "C:\Users\marie\Anaconda3\envs\logic\lib\site-packages\pandas\core\indexing.py", line 1327, in _convert_to_indexer
    .format(mask=objarr[mask]))
KeyError: "['Storage charge' 'Storage discharge'] not in index"
2019-11-11 11:49:49,683 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:49] "GET /offgrid_simulator/monthly_time_series/20191111104758 HTTP/1.1" 200 -
2019-11-11 11:49:51,963 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:49:51] "GET /offgrid_simulator/demand_series/20191111104758 HTTP/1.1" 200 -
2019-11-11 11:50:05,534 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:50:05] "POST /report/email HTTP/1.1" 404 -
2019-11-11 11:50:07,603 - INFO - _internal - 127.0.0.1 - - [11/Nov/2019 11:50:07] "GET /report/download/20191111104758 HTTP/1.1" 200 -
